   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"tcpCLI.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.comm	xSemaphoreDMASPI,4,4
  20              		.section	.bss.xHigherPriorityTaskWoken,"aw",%nobits
  21              		.align	2
  24              	xHigherPriorityTaskWoken:
  25 0000 00000000 		.space	4
  26              		.comm	xSmphrUSART,4,4
  27              		.comm	setSpeedHandle,4,4
  28              		.comm	motorHBHandle,4,4
  29              		.comm	QSpd_handle,4,4
  30              		.comm	QStatus_handle,4,4
  31              		.comm	socket_0,4,4
  32              		.comm	bufferTX,2000,4
  33              		.comm	bufferRX,2000,4
  34              		.comm	bufferRXidx,4,4
  35              		.comm	bufferTXidx,4,4
  36              		.comm	dat_lengthRX,4,4
  37              		.comm	dat_lengthTX,4,4
  38              		.comm	set_macTaskHandle,4,4
  39              		.section	.rodata
  40              		.align	2
  41              	.LC0:
  42 0000 6D6F746F 		.ascii	"motor\000"
  42      7200
  43 0006 0000     		.align	2
  44              	.LC1:
  45 0008 6D6F746F 		.ascii	"motor  [options]\302\240[parameters]\302\240: Contr"
  45      7220205B 
  45      6F707469 
  45      6F6E735D 
  45      C2A05B70 
  46 002f 6F6C7320 		.ascii	"ols motor speed, rpm, etc., .. \015\012\000"
  46      6D6F746F 
  46      72207370 
  46      6565642C 
  46      2072706D 
  47              		.section	.rodata.xMotorCommand,"a",%progbits
  48              		.align	2
  51              	xMotorCommand:
  52 0000 00000000 		.word	.LC0
  53 0004 08000000 		.word	.LC1
  54 0008 00000000 		.word	prvMotorCommand
  55 000c 04       		.byte	4
  56 000d 000000   		.space	3
  57              		.section	.rodata
  58 0051 000000   		.align	2
  59              	.LC2:
  60 0054 73706565 		.ascii	"speed\000"
  60      6400
  61 005a 0000     		.align	2
  62              	.LC3:
  63 005c 45727272 		.ascii	"Errror : %d\012\012\000"
  63      6F72203A 
  63      2025640A 
  63      0A00
  64 006a 0000     		.align	2
  65              	.LC4:
  66 006c 0000     		.ascii	"\000\000"
  67 006e 0000     		.align	2
  68              	.LC5:
  69 0070 53706565 		.ascii	"Speed succsesfully set.\012\012\000"
  69      64207375 
  69      63637365 
  69      7366756C 
  69      6C792073 
  70 008a 0000     		.align	2
  71              	.LC6:
  72 008c 4572726F 		.ascii	"Error sending Queue!\012\012\000"
  72      72207365 
  72      6E64696E 
  72      67205175 
  72      65756521 
  73              		.section	.text.handleVariable_set,"ax",%progbits
  74              		.align	2
  75              		.global	handleVariable_set
  76              		.thumb
  77              		.thumb_func
  79              	handleVariable_set:
  80              	.LFB110:
  81              		.file 1 "App/STM32F4-Discovery/tcpCLI.c"
   1:App/STM32F4-Discovery/tcpCLI.c **** #include "tcpCLI.h"
   2:App/STM32F4-Discovery/tcpCLI.c **** 
   3:App/STM32F4-Discovery/tcpCLI.c **** 
   4:App/STM32F4-Discovery/tcpCLI.c **** 
   5:App/STM32F4-Discovery/tcpCLI.c **** 
   6:App/STM32F4-Discovery/tcpCLI.c **** int handleVariable_set (	QueueTelegram telegram,
   7:App/STM32F4-Discovery/tcpCLI.c **** 				uint8_t * Param, 
   8:App/STM32F4-Discovery/tcpCLI.c **** 				int xParamLength,
   9:App/STM32F4-Discovery/tcpCLI.c **** 				xQueueHandle Qhandle,
  10:App/STM32F4-Discovery/tcpCLI.c **** 				uint8_t * Value,
  11:App/STM32F4-Discovery/tcpCLI.c **** 				int xValueLength,
  12:App/STM32F4-Discovery/tcpCLI.c **** 				int socket )
  13:App/STM32F4-Discovery/tcpCLI.c **** {
  82              		.loc 1 13 0
  83              		.cfi_startproc
  84              		@ args = 52, pretend = 16, frame = 32
  85              		@ frame_needed = 1, uses_anonymous_args = 0
  86 0000 84B0     		sub	sp, sp, #16
  87              	.LCFI0:
  88              		.cfi_def_cfa_offset 16
  89 0002 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
  90              	.LCFI1:
  91              		.cfi_def_cfa_offset 44
  92              		.cfi_offset 4, -44
  93              		.cfi_offset 5, -40
  94              		.cfi_offset 6, -36
  95              		.cfi_offset 7, -32
  96              		.cfi_offset 8, -28
  97              		.cfi_offset 9, -24
  98              		.cfi_offset 14, -20
  99 0006 89B0     		sub	sp, sp, #36
 100              	.LCFI2:
 101              		.cfi_def_cfa_offset 80
 102 0008 00AF     		add	r7, sp, #0
 103              	.LCFI3:
 104              		.cfi_def_cfa_register 7
 105 000a 07F1400C 		add	ip, r7, #64
 106 000e 8CE80F00 		stmia	ip, {r0, r1, r2, r3}
  14:App/STM32F4-Discovery/tcpCLI.c **** 
  15:App/STM32F4-Discovery/tcpCLI.c **** 	if ( !strncmp ( Param, "speed", 5))
 107              		.loc 1 15 0
 108 0012 F86D     		ldr	r0, [r7, #92]
 109 0014 5849     		ldr	r1, .L9
 110 0016 0522     		movs	r2, #5
 111 0018 FFF7FEFF 		bl	strncmp
 112 001c 0346     		mov	r3, r0
 113 001e 002B     		cmp	r3, #0
 114 0020 40F0A180 		bne	.L2
 115              	.LBB2:
  16:App/STM32F4-Discovery/tcpCLI.c **** 	{	
  17:App/STM32F4-Discovery/tcpCLI.c **** 		// now convert parameter to proper value and check if it is in range 
  18:App/STM32F4-Discovery/tcpCLI.c ****         	Value[xValueLength-2] = '\0'; 	
 116              		.loc 1 18 0
 117 0024 FB6E     		ldr	r3, [r7, #108]
 118 0026 023B     		subs	r3, r3, #2
 119 0028 BA6E     		ldr	r2, [r7, #104]
 120 002a 1344     		add	r3, r3, r2
 121 002c 0022     		movs	r2, #0
 122 002e 1A70     		strb	r2, [r3]
  19:App/STM32F4-Discovery/tcpCLI.c **** 		uint16_t s1 = atoi ( Value ); 
 123              		.loc 1 19 0
 124 0030 B86E     		ldr	r0, [r7, #104]
 125 0032 FFF7FEFF 		bl	atoi
 126 0036 0346     		mov	r3, r0
 127 0038 9BB2     		uxth	r3, r3
 128 003a 7B80     		strh	r3, [r7, #2]	@ movhi
  20:App/STM32F4-Discovery/tcpCLI.c **** 		// if speed is in range
  21:App/STM32F4-Discovery/tcpCLI.c **** 		if(s1 < 10 ||  s1 > 100 )
 129              		.loc 1 21 0
 130 003c 7B88     		ldrh	r3, [r7, #2]
 131 003e 092B     		cmp	r3, #9
 132 0040 02D9     		bls	.L3
 133              		.loc 1 21 0 is_stmt 0 discriminator 1
 134 0042 7B88     		ldrh	r3, [r7, #2]
 135 0044 642B     		cmp	r3, #100
 136 0046 3FD9     		bls	.L4
 137              	.L3:
 138              	.LBB3:
 139 0048 6B46     		mov	r3, sp
 140 004a 1E46     		mov	r6, r3
  22:App/STM32F4-Discovery/tcpCLI.c **** 		{
  23:App/STM32F4-Discovery/tcpCLI.c **** 			// send error via TCP
  24:App/STM32F4-Discovery/tcpCLI.c **** 			//
  25:App/STM32F4-Discovery/tcpCLI.c **** 			int len = strlen ( Value ) + 11 ; 
 141              		.loc 1 25 0 is_stmt 1
 142 004c B86E     		ldr	r0, [r7, #104]
 143 004e FFF7FEFF 		bl	strlen
 144 0052 0346     		mov	r3, r0
 145 0054 0B33     		adds	r3, r3, #11
 146 0056 FB60     		str	r3, [r7, #12]
  26:App/STM32F4-Discovery/tcpCLI.c **** 			uint8_t buf [len]; //= "Error: speed is out of range!\n\n";
 147              		.loc 1 26 0
 148 0058 F968     		ldr	r1, [r7, #12]
 149 005a 4B1E     		subs	r3, r1, #1
 150 005c BB60     		str	r3, [r7, #8]
 151 005e 0B46     		mov	r3, r1
 152 0060 1A46     		mov	r2, r3
 153 0062 4FF00003 		mov	r3, #0
 154 0066 4FEAC309 		lsl	r9, r3, #3
 155 006a 49EA5279 		orr	r9, r9, r2, lsr #29
 156 006e 4FEAC208 		lsl	r8, r2, #3
 157 0072 0B46     		mov	r3, r1
 158 0074 1A46     		mov	r2, r3
 159 0076 4FF00003 		mov	r3, #0
 160 007a DD00     		lsls	r5, r3, #3
 161 007c 45EA5275 		orr	r5, r5, r2, lsr #29
 162 0080 D400     		lsls	r4, r2, #3
 163 0082 0B46     		mov	r3, r1
 164 0084 0733     		adds	r3, r3, #7
 165 0086 DB08     		lsrs	r3, r3, #3
 166 0088 DB00     		lsls	r3, r3, #3
 167 008a ADEB030D 		sub	sp, sp, r3
 168 008e 6B46     		mov	r3, sp
 169 0090 0033     		adds	r3, r3, #0
 170 0092 7B60     		str	r3, [r7, #4]
  27:App/STM32F4-Discovery/tcpCLI.c **** 			sprintf(buf, "Errror : %d\n\n", s1);
 171              		.loc 1 27 0
 172 0094 7A68     		ldr	r2, [r7, #4]
 173 0096 7B88     		ldrh	r3, [r7, #2]
 174 0098 1046     		mov	r0, r2
 175 009a 3849     		ldr	r1, .L9+4
 176 009c 1A46     		mov	r2, r3
 177 009e FFF7FEFF 		bl	sprintf
  28:App/STM32F4-Discovery/tcpCLI.c **** 			buf[11+ 3] = "\0"; 
 178              		.loc 1 28 0
 179 00a2 374B     		ldr	r3, .L9+8
 180 00a4 DAB2     		uxtb	r2, r3
 181 00a6 7B68     		ldr	r3, [r7, #4]
 182 00a8 9A73     		strb	r2, [r3, #14]
  29:App/STM32F4-Discovery/tcpCLI.c **** 			send( socket_0, buf, len, 0);
 183              		.loc 1 29 0
 184 00aa 364B     		ldr	r3, .L9+12
 185 00ac 1B68     		ldr	r3, [r3]
 186 00ae D9B2     		uxtb	r1, r3
 187 00b0 7A68     		ldr	r2, [r7, #4]
 188 00b2 FB68     		ldr	r3, [r7, #12]
 189 00b4 9BB2     		uxth	r3, r3
 190 00b6 0846     		mov	r0, r1
 191 00b8 1146     		mov	r1, r2
 192 00ba 1A46     		mov	r2, r3
 193 00bc 0023     		movs	r3, #0
 194 00be FFF7FEFF 		bl	send
  30:App/STM32F4-Discovery/tcpCLI.c **** 
  31:App/STM32F4-Discovery/tcpCLI.c **** 	       		return pdFALSE; 	
 195              		.loc 1 31 0
 196 00c2 0023     		movs	r3, #0
 197 00c4 B546     		mov	sp, r6
 198              	.LBE3:
 199 00c6 4FE0     		b	.L8
 200              	.L4:
  32:App/STM32F4-Discovery/tcpCLI.c **** 		}	
  33:App/STM32F4-Discovery/tcpCLI.c **** 	
  34:App/STM32F4-Discovery/tcpCLI.c **** 		// convert to correct value ( * 100 ) 
  35:App/STM32F4-Discovery/tcpCLI.c **** 		s1 *= 100; 
 201              		.loc 1 35 0
 202 00c8 7B88     		ldrh	r3, [r7, #2]
 203 00ca 1A46     		mov	r2, r3	@ movhi
 204 00cc 9200     		lsls	r2, r2, #2
 205 00ce 1344     		add	r3, r3, r2
 206 00d0 1A46     		mov	r2, r3	@ movhi
 207 00d2 9100     		lsls	r1, r2, #2
 208 00d4 1A46     		mov	r2, r3	@ movhi
 209 00d6 0B46     		mov	r3, r1	@ movhi
 210 00d8 1344     		add	r3, r3, r2
 211 00da 9B00     		lsls	r3, r3, #2
 212 00dc 9BB2     		uxth	r3, r3
 213 00de 7B80     		strh	r3, [r7, #2]	@ movhi
  36:App/STM32F4-Discovery/tcpCLI.c **** 		
  37:App/STM32F4-Discovery/tcpCLI.c **** 		
  38:App/STM32F4-Discovery/tcpCLI.c **** 		// setup telegram 
  39:App/STM32F4-Discovery/tcpCLI.c **** 		
  40:App/STM32F4-Discovery/tcpCLI.c **** 		telegram.data[0] = s1; 
 214              		.loc 1 40 0
 215 00e0 7B88     		ldrh	r3, [r7, #2]
 216 00e2 A7F84830 		strh	r3, [r7, #72]	@ movhi
  41:App/STM32F4-Discovery/tcpCLI.c **** 		telegram.Qcmd = SETDATA;
 217              		.loc 1 41 0
 218 00e6 0023     		movs	r3, #0
 219 00e8 87F84030 		strb	r3, [r7, #64]
  42:App/STM32F4-Discovery/tcpCLI.c **** 		
  43:App/STM32F4-Discovery/tcpCLI.c **** 
  44:App/STM32F4-Discovery/tcpCLI.c **** 		// send value to setSpeed_task via Queue 
  45:App/STM32F4-Discovery/tcpCLI.c **** 		if ( !xQueueSend ( QSpd_handle, &s1, 500 ) )
 220              		.loc 1 45 0
 221 00ec 264B     		ldr	r3, .L9+16
 222 00ee 1A68     		ldr	r2, [r3]
 223 00f0 BB1C     		adds	r3, r7, #2
 224 00f2 1046     		mov	r0, r2
 225 00f4 1946     		mov	r1, r3
 226 00f6 4FF4FA72 		mov	r2, #500
 227 00fa 0023     		movs	r3, #0
 228 00fc FFF7FEFF 		bl	xQueueGenericSend
 229 0100 0346     		mov	r3, r0
 230 0102 002B     		cmp	r3, #0
 231 0104 1FD1     		bne	.L6
  46:App/STM32F4-Discovery/tcpCLI.c **** 		{	
  47:App/STM32F4-Discovery/tcpCLI.c **** 					
  48:App/STM32F4-Discovery/tcpCLI.c **** 			if ( ! xQueueReceive ( QSpd_handle, &telegram, 500))
 232              		.loc 1 48 0
 233 0106 204B     		ldr	r3, .L9+16
 234 0108 1B68     		ldr	r3, [r3]
 235 010a 1846     		mov	r0, r3
 236 010c 07F14001 		add	r1, r7, #64
 237 0110 4FF4FA72 		mov	r2, #500
 238 0114 0023     		movs	r3, #0
 239 0116 FFF7FEFF 		bl	xQueueGenericReceive
 240 011a 0346     		mov	r3, r0
 241 011c 002B     		cmp	r3, #0
 242 011e 22D1     		bne	.L2
  49:App/STM32F4-Discovery/tcpCLI.c **** 			{
  50:App/STM32F4-Discovery/tcpCLI.c **** 				if ( telegram.Qcmd = SUCCSESS) 
 243              		.loc 1 50 0
 244 0120 0623     		movs	r3, #6
 245 0122 87F84030 		strb	r3, [r7, #64]
 246              	.LBB4:
  51:App/STM32F4-Discovery/tcpCLI.c **** 				{	
  52:App/STM32F4-Discovery/tcpCLI.c **** 					uint8_t * buf = "Speed succsesfully set.\n\n";
 247              		.loc 1 52 0
 248 0126 194B     		ldr	r3, .L9+20
 249 0128 FB61     		str	r3, [r7, #28]
  53:App/STM32F4-Discovery/tcpCLI.c **** 			   		int len = 25; 	
 250              		.loc 1 53 0
 251 012a 1923     		movs	r3, #25
 252 012c BB61     		str	r3, [r7, #24]
  54:App/STM32F4-Discovery/tcpCLI.c **** 					send( socket, buf, len, 0);
 253              		.loc 1 54 0
 254 012e 3B6F     		ldr	r3, [r7, #112]
 255 0130 DAB2     		uxtb	r2, r3
 256 0132 BB69     		ldr	r3, [r7, #24]
 257 0134 9BB2     		uxth	r3, r3
 258 0136 1046     		mov	r0, r2
 259 0138 F969     		ldr	r1, [r7, #28]
 260 013a 1A46     		mov	r2, r3
 261 013c 0023     		movs	r3, #0
 262 013e FFF7FEFF 		bl	send
  55:App/STM32F4-Discovery/tcpCLI.c **** 
  56:App/STM32F4-Discovery/tcpCLI.c **** 					return pdPASS;
 263              		.loc 1 56 0
 264 0142 0123     		movs	r3, #1
 265 0144 10E0     		b	.L8
 266              	.L6:
 267              	.LBE4:
 268              	.LBB5:
  57:App/STM32F4-Discovery/tcpCLI.c **** 
  58:App/STM32F4-Discovery/tcpCLI.c **** 				}
  59:App/STM32F4-Discovery/tcpCLI.c **** 				else
  60:App/STM32F4-Discovery/tcpCLI.c **** 				{
  61:App/STM32F4-Discovery/tcpCLI.c **** 					uint8_t * buf = "MODBUS ERROR !!!.\n\n";
  62:App/STM32F4-Discovery/tcpCLI.c **** 			       		int len = 19; 	
  63:App/STM32F4-Discovery/tcpCLI.c **** 					send( socket, buf, len, 0);
  64:App/STM32F4-Discovery/tcpCLI.c **** 
  65:App/STM32F4-Discovery/tcpCLI.c **** 					return pdFALSE;
  66:App/STM32F4-Discovery/tcpCLI.c **** 
  67:App/STM32F4-Discovery/tcpCLI.c **** 
  68:App/STM32F4-Discovery/tcpCLI.c **** 				}
  69:App/STM32F4-Discovery/tcpCLI.c **** 						
  70:App/STM32F4-Discovery/tcpCLI.c **** 			}
  71:App/STM32F4-Discovery/tcpCLI.c **** 
  72:App/STM32F4-Discovery/tcpCLI.c **** 		}
  73:App/STM32F4-Discovery/tcpCLI.c **** 		else
  74:App/STM32F4-Discovery/tcpCLI.c **** 		{
  75:App/STM32F4-Discovery/tcpCLI.c **** 			// send to Queue was unsuccsessful
  76:App/STM32F4-Discovery/tcpCLI.c **** 			// send error via TCP 
  77:App/STM32F4-Discovery/tcpCLI.c **** 		
  78:App/STM32F4-Discovery/tcpCLI.c **** 			uint8_t * buf = "Error sending Queue!\n\n";
 269              		.loc 1 78 0
 270 0146 124B     		ldr	r3, .L9+24
 271 0148 7B61     		str	r3, [r7, #20]
  79:App/STM32F4-Discovery/tcpCLI.c **** 	 		int len = 22; 	
 272              		.loc 1 79 0
 273 014a 1623     		movs	r3, #22
 274 014c 3B61     		str	r3, [r7, #16]
  80:App/STM32F4-Discovery/tcpCLI.c **** 			send( socket, buf, len, 0);
 275              		.loc 1 80 0
 276 014e 3B6F     		ldr	r3, [r7, #112]
 277 0150 DAB2     		uxtb	r2, r3
 278 0152 3B69     		ldr	r3, [r7, #16]
 279 0154 9BB2     		uxth	r3, r3
 280 0156 1046     		mov	r0, r2
 281 0158 7969     		ldr	r1, [r7, #20]
 282 015a 1A46     		mov	r2, r3
 283 015c 0023     		movs	r3, #0
 284 015e FFF7FEFF 		bl	send
  81:App/STM32F4-Discovery/tcpCLI.c **** 
  82:App/STM32F4-Discovery/tcpCLI.c **** 			return pdFALSE; 	
 285              		.loc 1 82 0
 286 0162 0023     		movs	r3, #0
 287 0164 00E0     		b	.L8
 288              	.L2:
 289              	.LBE5:
 290              	.LBE2:
  83:App/STM32F4-Discovery/tcpCLI.c **** 		}
  84:App/STM32F4-Discovery/tcpCLI.c **** 	}
  85:App/STM32F4-Discovery/tcpCLI.c **** 
  86:App/STM32F4-Discovery/tcpCLI.c **** 			return 0; 
 291              		.loc 1 86 0
 292 0166 0023     		movs	r3, #0
 293              	.L8:
  87:App/STM32F4-Discovery/tcpCLI.c **** 
  88:App/STM32F4-Discovery/tcpCLI.c **** }
 294              		.loc 1 88 0
 295 0168 1846     		mov	r0, r3
 296 016a 2437     		adds	r7, r7, #36
 297 016c BD46     		mov	sp, r7
 298              		@ sp needed
 299 016e BDE8F043 		pop	{r4, r5, r6, r7, r8, r9, lr}
 300 0172 04B0     		add	sp, sp, #16
 301 0174 7047     		bx	lr
 302              	.L10:
 303 0176 00BF     		.align	2
 304              	.L9:
 305 0178 54000000 		.word	.LC2
 306 017c 5C000000 		.word	.LC3
 307 0180 6C000000 		.word	.LC4
 308 0184 00000000 		.word	socket_0
 309 0188 00000000 		.word	QSpd_handle
 310 018c 70000000 		.word	.LC5
 311 0190 8C000000 		.word	.LC6
 312              		.cfi_endproc
 313              	.LFE110:
 315              		.section	.rodata
 316 00a3 00       		.align	2
 317              	.LC7:
 318 00a4 73657400 		.ascii	"set\000"
 319              		.align	2
 320              	.LC8:
 321 00a8 67657400 		.ascii	"get\000"
 322              		.align	2
 323              	.LC9:
 324 00ac 73746F70 		.ascii	"stop\000"
 324      00
 325 00b1 000000   		.align	2
 326              	.LC10:
 327 00b4 73746172 		.ascii	"start\000"
 327      7400
 328 00ba 0000     		.section	.text.prvMotorCommand,"ax",%progbits
 329              		.align	2
 330              		.global	prvMotorCommand
 331              		.thumb
 332              		.thumb_func
 334              	prvMotorCommand:
 335              	.LFB111:
  89:App/STM32F4-Discovery/tcpCLI.c **** 			
  90:App/STM32F4-Discovery/tcpCLI.c **** 
  91:App/STM32F4-Discovery/tcpCLI.c **** 
  92:App/STM32F4-Discovery/tcpCLI.c **** 
  93:App/STM32F4-Discovery/tcpCLI.c **** 
  94:App/STM32F4-Discovery/tcpCLI.c **** 
  95:App/STM32F4-Discovery/tcpCLI.c **** 
  96:App/STM32F4-Discovery/tcpCLI.c **** 
  97:App/STM32F4-Discovery/tcpCLI.c **** 
  98:App/STM32F4-Discovery/tcpCLI.c **** 
  99:App/STM32F4-Discovery/tcpCLI.c **** 
 100:App/STM32F4-Discovery/tcpCLI.c **** 
 101:App/STM32F4-Discovery/tcpCLI.c **** 
 102:App/STM32F4-Discovery/tcpCLI.c **** 
 103:App/STM32F4-Discovery/tcpCLI.c **** // prototypes of CLI functions 
 104:App/STM32F4-Discovery/tcpCLI.c **** 
 105:App/STM32F4-Discovery/tcpCLI.c **** portBASE_TYPE prvMotorCommand ( 	int8_t *pcWriteBuffer, 
 106:App/STM32F4-Discovery/tcpCLI.c **** 						size_t xWriteBufferLen, 
 107:App/STM32F4-Discovery/tcpCLI.c **** 						const int8_t *pcCommandString)
 108:App/STM32F4-Discovery/tcpCLI.c **** {
 336              		.loc 1 108 0
 337              		.cfi_startproc
 338              		@ args = 0, pretend = 0, frame = 72
 339              		@ frame_needed = 1, uses_anonymous_args = 0
 340 0000 90B5     		push	{r4, r7, lr}
 341              	.LCFI4:
 342              		.cfi_def_cfa_offset 12
 343              		.cfi_offset 4, -12
 344              		.cfi_offset 7, -8
 345              		.cfi_offset 14, -4
 346 0002 9DB0     		sub	sp, sp, #116
 347              	.LCFI5:
 348              		.cfi_def_cfa_offset 128
 349 0004 0AAF     		add	r7, sp, #40
 350              	.LCFI6:
 351              		.cfi_def_cfa 7, 88
 352 0006 F860     		str	r0, [r7, #12]
 353 0008 B960     		str	r1, [r7, #8]
 354 000a 7A60     		str	r2, [r7, #4]
 109:App/STM32F4-Discovery/tcpCLI.c **** 	/* globals: 
 110:App/STM32F4-Discovery/tcpCLI.c **** 	 * 	socket 
 111:App/STM32F4-Discovery/tcpCLI.c **** 	 * 	setSpeedHandle
 112:App/STM32F4-Discovery/tcpCLI.c **** 	 * 	QSpd_Handle
 113:App/STM32F4-Discovery/tcpCLI.c **** 	 * 	QStatus_handle
 114:App/STM32F4-Discovery/tcpCLI.c **** 	 * 	
 115:App/STM32F4-Discovery/tcpCLI.c **** 	 **/
 116:App/STM32F4-Discovery/tcpCLI.c **** 
 117:App/STM32F4-Discovery/tcpCLI.c **** 	int8_t *Option, *Param, *Value;
 118:App/STM32F4-Discovery/tcpCLI.c **** 	int xOptionLength, xParamLength, xValueLength; 
 119:App/STM32F4-Discovery/tcpCLI.c **** 	QueueTelegram telegram; 
 120:App/STM32F4-Discovery/tcpCLI.c **** 	
 121:App/STM32F4-Discovery/tcpCLI.c **** 	// get option from command line 
 122:App/STM32F4-Discovery/tcpCLI.c **** 
 123:App/STM32F4-Discovery/tcpCLI.c **** 	Option = FreeRTOS_CLIGetParameter( pcCommandString, // command string 
 355              		.loc 1 123 0
 356 000c 07F13803 		add	r3, r7, #56
 357 0010 7868     		ldr	r0, [r7, #4]
 358 0012 0121     		movs	r1, #1
 359 0014 1A46     		mov	r2, r3
 360 0016 FFF7FEFF 		bl	FreeRTOS_CLIGetParameter
 361 001a 7864     		str	r0, [r7, #68]
 124:App/STM32F4-Discovery/tcpCLI.c **** 					  1,  		   // first parameter
 125:App/STM32F4-Discovery/tcpCLI.c **** 				  	  &xOptionLength // parameter string length
 126:App/STM32F4-Discovery/tcpCLI.c **** 					  
 127:App/STM32F4-Discovery/tcpCLI.c **** 					 );
 128:App/STM32F4-Discovery/tcpCLI.c **** 	// get parameter from command line 
 129:App/STM32F4-Discovery/tcpCLI.c **** 	
 130:App/STM32F4-Discovery/tcpCLI.c **** 	Param = FreeRTOS_CLIGetParameter( pcCommandString, // command string 
 362              		.loc 1 130 0
 363 001c 07F13403 		add	r3, r7, #52
 364 0020 7868     		ldr	r0, [r7, #4]
 365 0022 0221     		movs	r1, #2
 366 0024 1A46     		mov	r2, r3
 367 0026 FFF7FEFF 		bl	FreeRTOS_CLIGetParameter
 368 002a 3864     		str	r0, [r7, #64]
 131:App/STM32F4-Discovery/tcpCLI.c **** 					  2,  		   // 2nd parameter
 132:App/STM32F4-Discovery/tcpCLI.c **** 				  	  &xParamLength // parameter string length
 133:App/STM32F4-Discovery/tcpCLI.c **** 					  
 134:App/STM32F4-Discovery/tcpCLI.c **** 					 );
 135:App/STM32F4-Discovery/tcpCLI.c **** 	Value = FreeRTOS_CLIGetParameter( pcCommandString, // command string 
 369              		.loc 1 135 0
 370 002c 07F13003 		add	r3, r7, #48
 371 0030 7868     		ldr	r0, [r7, #4]
 372 0032 0321     		movs	r1, #3
 373 0034 1A46     		mov	r2, r3
 374 0036 FFF7FEFF 		bl	FreeRTOS_CLIGetParameter
 375 003a F863     		str	r0, [r7, #60]
 136:App/STM32F4-Discovery/tcpCLI.c **** 					  3,  		   // 2nd parameter
 137:App/STM32F4-Discovery/tcpCLI.c **** 				  	  &xValueLength // parameter string length
 138:App/STM32F4-Discovery/tcpCLI.c **** 					  
 139:App/STM32F4-Discovery/tcpCLI.c **** 					 );
 140:App/STM32F4-Discovery/tcpCLI.c **** 
 141:App/STM32F4-Discovery/tcpCLI.c **** 
 142:App/STM32F4-Discovery/tcpCLI.c **** 
 143:App/STM32F4-Discovery/tcpCLI.c **** 
 144:App/STM32F4-Discovery/tcpCLI.c **** 
 145:App/STM32F4-Discovery/tcpCLI.c **** 
 146:App/STM32F4-Discovery/tcpCLI.c **** 	if( !strncmp( Option, "set", 3) ) 
 376              		.loc 1 146 0
 377 003c 786C     		ldr	r0, [r7, #68]
 378 003e 1D49     		ldr	r1, .L16
 379 0040 0322     		movs	r2, #3
 380 0042 FFF7FEFF 		bl	strncmp
 381 0046 0346     		mov	r3, r0
 382 0048 002B     		cmp	r3, #0
 383 004a 1FD1     		bne	.L12
 147:App/STM32F4-Discovery/tcpCLI.c **** 	{
 148:App/STM32F4-Discovery/tcpCLI.c **** 		
 149:App/STM32F4-Discovery/tcpCLI.c **** 		if ( handleVariable_set ( telegram, 
 384              		.loc 1 149 0
 385 004c 786B     		ldr	r0, [r7, #52]
 386 004e 1A4B     		ldr	r3, .L16+4
 387 0050 1968     		ldr	r1, [r3]
 388 0052 3A6B     		ldr	r2, [r7, #48]
 389 0054 194B     		ldr	r3, .L16+8
 390 0056 1B68     		ldr	r3, [r3]
 391 0058 3C6C     		ldr	r4, [r7, #64]
 392 005a 0394     		str	r4, [sp, #12]
 393 005c 0490     		str	r0, [sp, #16]
 394 005e 0591     		str	r1, [sp, #20]
 395 0060 F96B     		ldr	r1, [r7, #60]
 396 0062 0691     		str	r1, [sp, #24]
 397 0064 0792     		str	r2, [sp, #28]
 398 0066 0893     		str	r3, [sp, #32]
 399 0068 6B46     		mov	r3, sp
 400 006a 07F12402 		add	r2, r7, #36
 401 006e 07CA     		ldmia	r2, {r0, r1, r2}
 402 0070 83E80700 		stmia	r3, {r0, r1, r2}
 403 0074 07F11403 		add	r3, r7, #20
 404 0078 0FCB     		ldmia	r3, {r0, r1, r2, r3}
 405 007a FFF7FEFF 		bl	handleVariable_set
 406 007e 0346     		mov	r3, r0
 407 0080 002B     		cmp	r3, #0
 408 0082 01D0     		beq	.L13
 150:App/STM32F4-Discovery/tcpCLI.c **** 				           Param, 
 151:App/STM32F4-Discovery/tcpCLI.c **** 					   xParamLength, 
 152:App/STM32F4-Discovery/tcpCLI.c **** 					   QSpd_handle, 
 153:App/STM32F4-Discovery/tcpCLI.c **** 					   Value,
 154:App/STM32F4-Discovery/tcpCLI.c **** 					   xValueLength,  
 155:App/STM32F4-Discovery/tcpCLI.c **** 					   socket_0)) return pdPASS;
 409              		.loc 1 155 0
 410 0084 0123     		movs	r3, #1
 411 0086 11E0     		b	.L15
 412              	.L13:
 156:App/STM32F4-Discovery/tcpCLI.c **** 		return pdFALSE;
 413              		.loc 1 156 0
 414 0088 0023     		movs	r3, #0
 415 008a 0FE0     		b	.L15
 416              	.L12:
 157:App/STM32F4-Discovery/tcpCLI.c **** 
 158:App/STM32F4-Discovery/tcpCLI.c **** 	}
 159:App/STM32F4-Discovery/tcpCLI.c **** 	if (!strncmp ( Option, "get", 3))
 417              		.loc 1 159 0
 418 008c 786C     		ldr	r0, [r7, #68]
 419 008e 0C49     		ldr	r1, .L16+12
 420 0090 0322     		movs	r2, #3
 421 0092 FFF7FEFF 		bl	strncmp
 160:App/STM32F4-Discovery/tcpCLI.c **** 	{
 161:App/STM32F4-Discovery/tcpCLI.c **** 
 162:App/STM32F4-Discovery/tcpCLI.c **** 
 163:App/STM32F4-Discovery/tcpCLI.c **** 	}
 164:App/STM32F4-Discovery/tcpCLI.c **** 		
 165:App/STM32F4-Discovery/tcpCLI.c **** 	if (!strncmp ( Option, "stop", 4))
 422              		.loc 1 165 0
 423 0096 786C     		ldr	r0, [r7, #68]
 424 0098 0A49     		ldr	r1, .L16+16
 425 009a 0422     		movs	r2, #4
 426 009c FFF7FEFF 		bl	strncmp
 166:App/STM32F4-Discovery/tcpCLI.c **** 	{
 167:App/STM32F4-Discovery/tcpCLI.c **** 
 168:App/STM32F4-Discovery/tcpCLI.c **** 
 169:App/STM32F4-Discovery/tcpCLI.c **** 	}
 170:App/STM32F4-Discovery/tcpCLI.c **** 
 171:App/STM32F4-Discovery/tcpCLI.c **** 	if (!strncmp ( Option, "start", 4))
 427              		.loc 1 171 0
 428 00a0 786C     		ldr	r0, [r7, #68]
 429 00a2 0949     		ldr	r1, .L16+20
 430 00a4 0422     		movs	r2, #4
 431 00a6 FFF7FEFF 		bl	strncmp
 172:App/STM32F4-Discovery/tcpCLI.c **** 	{
 173:App/STM32F4-Discovery/tcpCLI.c **** 
 174:App/STM32F4-Discovery/tcpCLI.c **** 
 175:App/STM32F4-Discovery/tcpCLI.c **** 	}
 176:App/STM32F4-Discovery/tcpCLI.c **** 
 177:App/STM32F4-Discovery/tcpCLI.c **** 
 178:App/STM32F4-Discovery/tcpCLI.c **** 
 179:App/STM32F4-Discovery/tcpCLI.c **** 	return pdFALSE;
 432              		.loc 1 179 0
 433 00aa 0023     		movs	r3, #0
 434              	.L15:
 180:App/STM32F4-Discovery/tcpCLI.c **** 
 181:App/STM32F4-Discovery/tcpCLI.c **** 
 182:App/STM32F4-Discovery/tcpCLI.c **** }
 435              		.loc 1 182 0
 436 00ac 1846     		mov	r0, r3
 437 00ae 4C37     		adds	r7, r7, #76
 438 00b0 BD46     		mov	sp, r7
 439              		@ sp needed
 440 00b2 90BD     		pop	{r4, r7, pc}
 441              	.L17:
 442              		.align	2
 443              	.L16:
 444 00b4 A4000000 		.word	.LC7
 445 00b8 00000000 		.word	QSpd_handle
 446 00bc 00000000 		.word	socket_0
 447 00c0 A8000000 		.word	.LC8
 448 00c4 AC000000 		.word	.LC9
 449 00c8 B4000000 		.word	.LC10
 450              		.cfi_endproc
 451              	.LFE111:
 453              		.text
 454              	.Letext0:
 455              		.file 2 "/Users/maticknap/ARM/gcc-arm-none-eabi-4_8-2014q2/lib/gcc/arm-none-eabi/4.8.4/include/std
 456              		.file 3 "/Users/maticknap/ARM/gcc-arm-none-eabi-4_8-2014q2/arm-none-eabi/include/machine/_default_
 457              		.file 4 "/Users/maticknap/ARM/gcc-arm-none-eabi-4_8-2014q2/arm-none-eabi/include/stdint.h"
 458              		.file 5 "Source/include/task.h"
 459              		.file 6 "Source/include/queue.h"
 460              		.file 7 "Source/include/semphr.h"
 461              		.file 8 "Source/FreeRTOS-Plus-CLI/FreeRTOS_CLI.h"
 462              		.file 9 "App/STM32F4-Discovery/tcpCLI.h"
 463              		.file 10 "App/STM32F4-Discovery/main.h"
 464              		.file 11 "App/STM32F4-Discovery/Libraries/CMSIS/Include/core_cm4.h"
 465              		.file 12 "App/STM32F4-Discovery/spi.h"
 466              		.file 13 "App/STM32F4-Discovery/W5200.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 tcpCLI.c
                            *COM*:0000000000000004 xSemaphoreDMASPI
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:21     .bss.xHigherPriorityTaskWoken:0000000000000000 $d
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:24     .bss.xHigherPriorityTaskWoken:0000000000000000 xHigherPriorityTaskWoken
                            *COM*:0000000000000004 xSmphrUSART
                            *COM*:0000000000000004 setSpeedHandle
                            *COM*:0000000000000004 motorHBHandle
                            *COM*:0000000000000004 QSpd_handle
                            *COM*:0000000000000004 QStatus_handle
                            *COM*:0000000000000004 socket_0
                            *COM*:00000000000007d0 bufferTX
                            *COM*:00000000000007d0 bufferRX
                            *COM*:0000000000000004 bufferRXidx
                            *COM*:0000000000000004 bufferTXidx
                            *COM*:0000000000000004 dat_lengthRX
                            *COM*:0000000000000004 dat_lengthTX
                            *COM*:0000000000000004 set_macTaskHandle
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:40     .rodata:0000000000000000 $d
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:48     .rodata.xMotorCommand:0000000000000000 $d
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:51     .rodata.xMotorCommand:0000000000000000 xMotorCommand
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:334    .text.prvMotorCommand:0000000000000000 prvMotorCommand
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:74     .text.handleVariable_set:0000000000000000 $t
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:79     .text.handleVariable_set:0000000000000000 handleVariable_set
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:305    .text.handleVariable_set:0000000000000178 $d
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:329    .text.prvMotorCommand:0000000000000000 $t
/var/folders/hq/s45830mn6w17j2ybbkgkrjk00000gn/T//ccVBUPfE.s:444    .text.prvMotorCommand:00000000000000b4 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
strncmp
atoi
strlen
sprintf
send
xQueueGenericSend
xQueueGenericReceive
FreeRTOS_CLIGetParameter
